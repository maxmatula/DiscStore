@model List<DiscStore.Infrastructure.ViewModels.Product.ProductViewModel>

@if (Model == null || Model.Count.Equals(0))
{
    <p>Brak produktów</p>
}
else
{

    foreach (var p in Model)
    {

        <!--Product-->
        <div class="col-lg-4 col-md-8 mb-lg-0 mb-4 product">
            <div class="card align-items-center">
                <!--Picture-->
                <div class="view zoom">
                    <div class="image-ds-container">
                        <a href="@Url.Action("Details", "Product", new { productId = p.ProductID})">
                            @if (p.PictureData == null || p.PictureData.Length == 0)
                            {
                                <p>Brak zdjęcia</p>
                            }
                            else
                            {
                                <img src="@Url.Action("GetPicture", "Product", new { productId = p.ProductID })" class="img-fluid image-ds-product" alt="" />
                            }
                            <div class="mask rgba-white-slight"></div>
                        </a>
                    </div>
                </div>
                <!--Picture-->
                <!--Content-->
                <div class="card-body text-center">
                    <!--Title and category-->
                    <h5 class="grey-text text-thin">@p.Category.Name</h5>

                    <h5>
                        <strong>
                            <a href="@Url.Action("Details", "Product", new { productId = p.ProductID})" class="dark-grey-text">@p.Name</a>
                        </strong>
                    </h5>
                    <h6>
                        <span class="text-thin">Wykonawca:</span>
                        <a class="orange-text">@p.Artist</a>
                    </h6>

                    <h4 class="font-weight-bold blue-text">
                        <strong>@p.Price.ToString("c")</strong>
                    </h4>
                    <div>
                        @using (Html.BeginForm("AddToCart", "Cart"))
                        {
                            @Html.Hidden("productId", p.ProductID)
                            @Html.Hidden("returnUrl", Request.Url.PathAndQuery)
                            <input type="submit" class="btn btn-rounded" value="Dodaj do koszyka" />
                        }
                    </div>
                    <!--Title and category-->
                </div>

                <!--Content-->
            </div>
        </div>
        <!--Product-->


    }
}